@use 'sass:math';

%pseudo-element {
  content: '';
  position: absolute;
  display: block;
}

// Palm
.sign-of-the-horns {
  &_detailed {
    $height: 500px;
    $width: math.round(math.div($height, 1.6));
    $finger-height: math.round(math.div($height, 2.85));
    $finger-width: math.round(math.div($width, 4.2));
    $folded-finger-top: math.round(math.div($finger-height, 1.3));
    $folded-shadow-finger-top: math.round($folded-finger-top * 1.08);
    $shadow-alpha: #00000060;

    --color: #ffc929;
    --shadow: color-mix(in srgb, black 34%, var(--color));

    position: relative;

    width: $width;
    height: math.div($height, 2.5);
    margin-top: math.round($height - math.div($height, 2.2));

    background: var(--color);
    border-radius: 0 0 50% 50% / 0 50% 100% 90%;

    // index finger
    &::before {
      @extend %pseudo-element;

      top: -(math.round(math.div($height, 1.835)));
      right: $width - $finger-width * 4;

      width: $finger-width;
      height: $finger-height;

      background: var(--color);
      border-radius: 50% / 22%;
      box-shadow:
        // index finger
        0 math.div($finger-height, 1.65) 0 var(--color),
        -($finger-width * 0.05) math.div($finger-height, 1.7) 0 $shadow-alpha,
        // middle finger
        -$finger-width $folded-finger-top 0 var(--color),
        -($finger-width * 1.08) $folded-shadow-finger-top 0 $shadow-alpha,
        // ring finger
        -($finger-width * 2) $folded-finger-top 0 var(--color),
        -($finger-width * 2.08) $folded-shadow-finger-top 0 $shadow-alpha,
        // pinky finger
        -($finger-width * 3) math.div($finger-height, 3) var(--color),
        -($finger-width * 3) $folded-finger-top var(--color);
    }

    // thumb
    &::after {
      $thumb-width: math.round(math.div($finger-height, 1.4));

      @extend %pseudo-element;

      top: -(math.round(math.div($height, 13.5)));
      right: 0;

      width: $thumb-width;
      height: math.round($finger-width * 1.08);

      background: var(--color);
      border-radius: 50% 35% 0 40% / 50% 45% 50% 45%;
      box-shadow:
        -(math.div($thumb-width, 2)) 0 0 var(--color),
        -($thumb-width * 0.585) ($finger-height * 0.035) 0 var(--shadow),
        -($thumb-width * 0.25) 0 0 var(--color),
        -($thumb-width * 0.34) ($finger-height * 0.01 * -1) 0 var(--shadow),
        -($thumb-width * 0.57) ($finger-height * 0.01 * -1) 0 var(--shadow),
        -($thumb-width * 0.58) 0 0 var(--shadow);
    }
  }

  &_simplified {
    $stroke-color: #fff;
    $bg-color: #000;
    $width: 216px;
    $sign-of-the-horns-top-finger: 60px;
    $stroke-size: 8px;
    $sign-of-the-horns-finger-width: 44px;
    $sign-of-the-horns-finger-height: 120px;

    position: relative;

    width: $width;
    height: 150px;
    margin-top: 300px;

    background: $stroke-color;
    border: 8px solid #000;
    border-top: 0;
    border-radius: 0 0 50px 50px;

    &::before {
      @extend %pseudo-element;

      top: -100px;

      width: $sign-of-the-horns-finger-width;
      height: $sign-of-the-horns-finger-height;

      background: $stroke-color;
      border-radius: 20px;
      box-shadow:
        0 20px 0 $stroke-color,
        0 0 0 $stroke-size $bg-color,
        ($sign-of-the-horns-finger-width + $stroke-size)
          $sign-of-the-horns-top-finger 0 $stroke-color,
        ($sign-of-the-horns-finger-width + $stroke-size)
          $sign-of-the-horns-top-finger 0 $stroke-size $bg-color,
        (($sign-of-the-horns-finger-width * 2) + ($stroke-size * 2))
          $sign-of-the-horns-top-finger 0 $stroke-color,
        (($sign-of-the-horns-finger-width * 2) + ($stroke-size * 2))
          $sign-of-the-horns-top-finger 0 $stroke-size $bg-color,
        (($sign-of-the-horns-finger-width * 3) + ($stroke-size * 3)) 0 0
          $stroke-color,
        (($sign-of-the-horns-finger-width * 3) + ($stroke-size * 3)) 20px 0
          $stroke-color,
        (($sign-of-the-horns-finger-width * 3) + ($stroke-size * 3)) 0 0
          $stroke-size $bg-color;
    }

    &::after {
      @extend %pseudo-element;

      top: 50px;
      right: -20px;
      transform: rotate(5deg);

      width: 100px;
      height: $sign-of-the-horns-finger-width;

      background: $stroke-color;
      border: $stroke-size solid $bg-color;
      border-radius: 25px;
    }
  }
}
